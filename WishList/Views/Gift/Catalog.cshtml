@using WishList.ViewModels
@model IEnumerable<GiftViewModel>

@{
    ViewBag.Title = "Catalog";
}

@if (Model.First().NumberOfPages > 1)
{
    <div>
        <ul class="content">
            <li>
                <ul class="pagination">
                    @for (int i = 0; i < Model.First().NumberOfPages; i++)
                    {
                        if (i == Model.First().CurrentPage)
                        {
                            <li class="active"><a href="@Url.Action("Catalog", new { pageNum = i})">@(i + 1)</a></li>
                        }
                        else
                        {
                            <li><a href="@Url.Action("Catalog", new { pageNum = i})">@(i + 1)</a></li>
                        }
                    }
                </ul>
            </li>
        </ul>
    </div>
}

@foreach (var gift in Model)
{
    <div class="panel panel-primary mostPopular">
        <div class="panel-heading">
            @gift.Name
        </div>

        <div class="panel-body">
            <table class="widthTable">
                <tr>
                    <td class="tdGiftImage">
                        <img class="giftImage" src="@Url.Content(@gift.Logo)" alt="image" />
                    </td>
                    <td>
                        <textarea class="form-control aboutGift" readonly="readonly">@gift.About</textarea>
                    </td>
                </tr>

                <tr>
                    <td>
                        @Html.ActionLink("More", "ViewGift", "Gift",
                        new
                        {
                            id = gift.Id
                        },
                        new
                        {
                            @class = "btn btn-info moreButton"
                        })
                    </td>
                    <td>
                        <button class="myCustomLikeButton btn pull-right" name="giftLikeId-@gift.Id">
                            <img src="/Content/images/like.png" class="likeImage" />
                            <p id="giftLikeId-@gift.Id">@gift.LikesCount</p>
                        </button>
                    </td>
                </tr>
            </table>
        </div>
    </div>
}

@if (Model.First().NumberOfPages > 1)
{
    <div>
        <ul>
            <li>
                <ul class="pagination">
                    @for (int i = 0; i < Model.First().NumberOfPages; i++)
                    {
                        if (i == Model.First().CurrentPage)
                        {
                            <li class="active"><a href="@Url.Action("Catalog", new { pageNum = i})">@(i + 1)</a></li>
                        }
                        else
                        {
                            <li><a href="@Url.Action("Catalog", new { pageNum = i})">@(i + 1)</a></li>
                        }
                    }
                </ul>
            </li>
        </ul>
    </div>
}